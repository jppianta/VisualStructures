!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.Nearly=e(require("react")):t.Nearly=e(t.React)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return l[t]?l[t]:l[t]=new f(t,e)}function i(t){0===l[t].components.length&&(l[t]=void 0)}function s(t){return l[t]}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.registerStore=o,e.unregisterStore=i,e.getStore=s;var a=n(2),f=function(){function t(e,n){r(this,t),this.storeName=e,this.state=null,this.components=[],this.getState=this.getState.bind(this),this.dispatch=this.dispatch.bind(this),this.dispatchers=n}return c(t,[{key:"getState",value:function(){return u({},this.state)}},{key:"initState",value:function(t){if(0>=this.components.length){if("function"!=typeof this.dispatchers.init)throw Error("'init' of Dispatcher file "+this.storeName+" does not exist");var e=this.dispatchers.init(this.getState);(0,a.isPromise)(e)?e.then(this.dispatch):t.state=this.state=e}}},{key:"subscribe",value:function(t){this.components.push(t)}},{key:"unsubscribe",value:function(t){this.components=this.components.filter(function(e){return e!==t})}},{key:"dispatch",value:function(t){var e=this;return null!==t&&(this.state=u({},this.state,t),this.components.forEach(function(t){return t.setState(e.state)})),this.state}}]),t}(),l={}},function(t,e){"use strict";function n(t){return!!t&&(t instanceof Promise||"function"==typeof t.then)}function r(t){return t.name||t.displayName||"Component"}Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=n,e.getComponentName=r},function(t,e,n){"use strict";function r(t){for(var e in t)s.hasOwnProperty(e)&&(s[e]=t[e])}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.configure=r;var i=n(1),s={beforeConnect:function(t){var e=t.split("#")[0];return(0,i.registerStore)(t,n(7)("./"+e+".js"))},parse:function(t){var e=t.split("::"),n=o(e,2),r=n[0],s=n[1],u=(0,i.getStore)(r);if(!u)throw Error("store '"+r+"' does not exist");var c=u.dispatchers[s];if(!c)throw Error("the module does not export function "+s);return{store:u,dispatcher:c}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n){var r=function(r){function u(e){o(this,u);var n=i(this,Object.getPrototypeOf(u).call(this,e));return n.store=(0,p.getStore)(t),n}return s(u,r),a(u,[{key:"componentWillMount",value:function(){this.store.initState(this)}},{key:"componentDidMount",value:function(){this.store.subscribe(this)}},{key:"componentWillUnmount",value:function(){this.store.unsubscribe(this),this.store=(0,p.unregisterStore)(t)}},{key:"render",value:function(){return this.state?l["default"].createElement(e,c({},this.state,{_storeName:t},this.props)):!!n&&l["default"].createElement(n)}}]),u}(l["default"].Component);return r.displayName=(0,h.getComponentName)(e)+"-"+t,r}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.connect=u;var f=n(8),l=r(f),p=n(1),h=n(2)},function(t,e,n){"use strict";function r(t){for(var e=(0,i.parse)(t),n=e.store,r=e.dispatcher,o=arguments.length,u=Array(o>1?o-1:0),c=1;o>c;c++)u[c-1]=arguments[c];var a=r.apply(n,[n.getState].concat(u));return(0,s.isPromise)(a)?a.then(n.dispatch):n.dispatch(a)}function o(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return r.bind.apply(r,[null].concat(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.dispatch=r,e.dispatcher=o;var i=n(3),s=(n(1),n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return r.connect}});var o=n(1);Object.defineProperty(e,"getStore",{enumerable:!0,get:function(){return o.getStore}}),Object.defineProperty(e,"registerStore",{enumerable:!0,get:function(){return o.registerStore}});var i=n(5);Object.defineProperty(e,"dispatch",{enumerable:!0,get:function(){return i.dispatch}}),Object.defineProperty(e,"dispatcher",{enumerable:!0,get:function(){return i.dispatcher}});var s=n(3);Object.defineProperty(e,"configure",{enumerable:!0,get:function(){return s.configure}})},function(t,e,n){function r(t){return n(o(t))}function o(t){return i[t]||function(){throw Error("Cannot find module '"+t+"'.")}()}var i={"./config.js":3,"./connect.js":4,"./dispatch.js":5,"./index.js":6,"./store.js":1,"./utils.js":2};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=7},function(e,n){e.exports=t}])});